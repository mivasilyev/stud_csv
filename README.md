## Описание
Скрипт предназначен для чтения файлов с оценками студентов, подсчета средней оценки по студенту, преподавателю, предмету.

## Установка
Для локального запуска проекта необходимо:
Клонировать проект на компьютер, перейти в папку, создать виртуальное окружение и установить зависимости:
```
git clone git@github.com:mivasilyev/stud_csv.git
cd stud_csv
python3 -m venv venv
source venv/bin/activate
python -m pip install --upgrade pip
pip install -r requirements.txt
```

## Данные, запуск и вывод
Для запуска скрипта данные в одном или нескольких файлах в формате CSV должны находиться в папке stud_csv. Первую строку в файле данных скрипт пропускает, предполагая, что это заголовок таблицы. Структура данных начиная со второй строки должна соответствовать формату:
```
Фамилия Имя студента,Предмет,Фамилия Имя преподавателя,дата,оценка(от 1 до 5)
Степанов Игорь,Биология,Ткаченко Наталья,2023-11-18,5
```
Скрипт запускается командой (все параметры обязательные):
```
python main.py --files data_file1.csv data_file2.csv data_file3.csv --report report_file_name
```
В ходе выполнения скрипт сохраняет результат в файл report_file_name.csv и выводит результаты в консоль в порядке обратной сортировки оценок в формате:
```
+-----+-----------------+-----------------+
|   № | name            |   average_grade |
+=====+=================+=================+
|   1 | Английский язык |             5.0 |
+-----+-----------------+-----------------+
|   2 | Биология        |             5.0 |
+-----+-----------------+-----------------+
|   3 | Физика          |             4.4 |
+-----+-----------------+-----------------+
|   4 | Математика      |             4.2 |
+-----+-----------------+-----------------+
|   5 | География       |             4.0 |
+-----+-----------------+-----------------+
```
или
```
+-----+---------------------+-----------------+
|   № | name                |   average_grade |
+=====+=====================+=================+
|   1 | Семенова Елена      |             5.0 |
+-----+---------------------+-----------------+
|   2 | Власова Алина       |             4.5 |
+-----+---------------------+-----------------+
|   3 | Калинина Ольга      |             4.2 |
+-----+---------------------+-----------------+
|   4 | Игнатьев Роман      |             3.9 |
+-----+---------------------+-----------------+
```
Переключение режимов аггрегирования данных осуществляется в строке 157 скрипта:
```
model = subjects  - агрегирование по предметам,
model = students  - агрегирование по студентам,
model = teachers  - агрегирование по преподавателям.
```

# Тестирование
В комплекте со скриптом поставляеются тесты pytest. Тесты запускаются командой pytest.

## Автор
Михаил Васильев, github.com/mivasilyev
